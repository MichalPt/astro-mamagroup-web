---
import TitlePageLayout from "@/layouts/TitlePageBase.astro";
import orcidFetch from '@/scripts/orcidFetcher.js';
import PublicationList from "@/components/PublicationList.astro";

const orcid = '0000-0003-1736-3054';
const token = import.meta.env.ORCID_ACCESS_TOKEN;
const works = await orcidFetch(orcid, token);
---

<TitlePageLayout meta={{ title: "Publications" }}>
    <h1>List of publications (automatically imported from ORCID):</h1>

    <PublicationList list={works}/>
</TitlePageLayout>