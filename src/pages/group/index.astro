---
import TitlePageLayout from "@/layouts/TitlePageBase.astro";
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

const profilePhotoFolder = "/src/assets/profile_photos/"
/* The argument of import.meta.glob must not contain any variable! Must be a string as it si now! */
const allImages = import.meta.glob<{ default: ImageMetadata }>("/src/assets/profile_photos/*.{jpg,png,webp,jpeg,gif}");


const membersList: {name:string; position:string; path:any, photo:any}[] = [
    {
        name: "Tomáš Mančal",
        position: "group co-leader",
        path: "/mancal/",
        photo: "tomas-mancal-source.jpg",
    },
    {
        name: "Pavel Malý",
        position: "group co-leader",
        path: "/maly/",
        photo: "pavel-maly-400.jpg",
    },
    {
        name: "Michal Ptáček",
        position: "PhD student",
        path: "/ptacek/",
        photo: "profile-img.jpg",
    },
    {
        name: "Matteo Bruschi",
        position: "postdoc",
        path: "/bruschi/",
        photo: "profile-img.jpg",
    },
    {
        name: "Malcolm Garrow",
        position: "postdoc",
        path: "/garrow/",
        photo: "profile-img.jpg",
    },
    {
        name: "Veronika Vranková",
        position: "PhD student",
        path: "/vrankova/",
        photo: "profile-img.jpg",
    },
    {
        name: "Kateřina Charvátová",
        position: "PhD student",
        path: "/charvatova/",
        photo: "profile-img.jpg",
    },
    {
        name: "May Shein",
        position: "PhD student",
        path: "/shein/",
        photo: "profile-img.jpg",
    },
    {
        name: "Vladimír Sláma",
        position: "collaborator",
        path: "/slama/",
        photo: "profile-img.jpg",
    },
    {
        name: "František Šanda",
        position: "collaborator",
        path: "/sanda/",
        photo: "profile-img.jpg",
    },
]
---


<TitlePageLayout meta={{ title: "Research" }}>
    **group photo**

    <h1>
        Current members of the group:
    </h1>

    <div class="flex flex-wrap gap-4 justify-center mt-4 mb-15">
        {membersList.map((person) => <a href="" class="relative items-center justify-center h-50 px-4 rounded-lg shadow-lg bg-special-lighter hover:brightness-80 hover:bg-special-lightest text-center">
            <div class="flex justify-center text-center imgcircle mt-2">
                <Image src={allImages[profilePhotoFolder+person.photo]()} alt="profile-photo" height="90" width="90"/>
            </div>
            <h3>{person.name}</h3>
            <p><i>{person.position}</i></p>
        </a>)}
    </div>

    <h1 class="mt-10">
        Past members of the group:
    </h1>

</TitlePageLayout>